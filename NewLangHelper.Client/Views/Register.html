<div class="auth-form">
    <form name="form" ng-submit="register()" role="form">
        <div ng-class="{'has-error': form.username.$dirty && form.username.$error.required}" 
             class="form-group">
            <label for="username">Username</label>
            <input ng-model="username" 
                   type="text"
                   name="username"
                   id="username"
                   class="form-control"
                   required />
            <span ng-show="form.username.$dirty && form.username.$error.required"
                  class="help-block">
                Username is required
            </span>
            <span ng-show="error.username"
                  class="help-block">
                {{error.username[0]}}
            </span>
        </div>
        
        <div ng-class="{'has-error': form.email.$dirty && form.email.$error.required}" 
             class="form-group">
            <label for="email">Email</label>
            <input ng-model="email" 
                   type="text"
                   name="email"
                   id="email"
                   class="form-control"
                   required />
            <span ng-show="form.email.$dirty && form.email.$error.required"
                  class="help-block">
                Email is required
            </span>
            <span ng-show="error.email"
                  class="help-block">
                {{error.email[0]}}
            </span>
        </div>

        <div ng-class="{'has-error': form.password1.$dirty && form.password1.$error.required}"
             class="form-group">
            <label for="password1">Password</label>
            <input ng-model="password1"
                   type="password"
                   name="password1"
                   id="password1"
                   class="form-control"
                   required />
            <span ng-show="form.password1.$dirty && form.password1.$error.required"
                  class="help-block">
                Password is required
            </span>
            <span ng-show="error.password1"
                  class="help-block">
                {{error.password1[0]}}
            </span>
        </div>
        
        <div ng-class="{'has-error': form.password2.$dirty && form.password2.$error.required}"
             class="form-group">
            <label for="password2">Confirm password</label>
            <input ng-model="password2"
                   type="password"
                   name="password2"
                   id="password2"
                   class="form-control"
                   required />
            <span ng-show="form.password2.$dirty && form.password2.$error.required"
                  class="help-block">
                Password confirmation is required
            </span>
            <span ng-show="error.password2"
                  class="help-block">
                {{error.password2[0]}}
            </span>
        </div>

        <input value="Register"
               type="submit"
               ng-disabled="form.$invalid"
               class="btn btn-primary"/>
    </form>
</div>